<!DOCTYPE html>
<html>

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B89KY0993B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-B89KY0993B');
    </script>
    <link rel="shortcut icon" type="image/x-icon" href="../../Asset/Image/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <link href="../../Asset/CSS/common.css" rel="stylesheet" />
</head>

<body>
    <v-app id="app">
        <template>
            <main-system-bar :drawer="drawer" @change-drawer="Change_Drawer">Brain</main-system-bar>
            <main-navigation :drawer="drawer" @change-drawer="Change_Drawer"></main-navigation>

            <v-main class="blue-grey lighten-4">
                <v-container fluid>
                    <v-row justify="center">
                        <v-col cols="12" md="8">
                            <v-card class="mb-4 profile-card">
                                <v-card-title>
                                    <v-row align="center" no-gutters>
                                        <v-col cols="10">
                                            <v-text-field v-model="search" label="Search" prepend-icon="mdi-magnify"
                                                single-line hide-details outlined dense clearable
                                                @input="filterTree"></v-text-field>
                                        </v-col>
                                        <v-col cols="2" class="text-right">
                                            <v-btn icon @click="closeAllNodes" title="Close all nodes">
                                                <v-icon>mdi-collapse-all</v-icon>
                                            </v-btn>
                                        </v-col>
                                    </v-row>
                                </v-card-title>
                                <v-treeview :items="filteredItems" activatable item-key="name" open-on-click
                                    :open="openNodes">
                                </v-treeview>
                            </v-card>
                        </v-col>
                    </v-row>
                </v-container>
            </v-main>

            <main-footer></main-footer>
        </template>
    </v-app>

    <style>
        .profile-card,
        .hobby-card,
        .life-journey-card,
        .job-offerings-card {
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .profile-card:hover,
        .hobby-card:hover,
        .life-journey-card:hover,
        .job-offerings-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .profile-avatar {
            border: 5px solid white;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="../../Asset/Javascript/common.js"></script>
    <script src="../../Asset/Javascript/main-footer.js"></script>
    <script src="../Javascript/main-system-bar.js"></script>
    <script src="../Javascript/main-navigation.js"></script>

    <script>
        new Vue({
            el: '#app',
            vuetify: new Vuetify(),
            data: {
                drawer: false,
                search: '',
                items: [
                    {
                        name: 'ルーティーン',
                        children: [
                            {
                                name: '一日の流れ',
                                children: [
                                    { name: '1. 水を飲む' },
                                    { name: '2. 散歩' },
                                    { name: '3. 朝食' },
                                    { name: '4. 間食' },
                                    { name: '5. 夕食' },
                                    { name: '6. 体調を整える' }
                                ]
                            },
                            {
                                name: '「一日の流れ」の中で実行する項目',
                                children: [
                                    { name: 'シャワー' },
                                    { name: 'トレーニング' },
                                    { name: '学び' },
                                    { name: '勉強' }
                                ]
                            },
                            {
                                name: '食事に関して',
                                children: [
                                    { name: '水を飲む' },
                                    { name: '歯磨き' }
                                ]
                            },
                            {
                                name: '全般',
                                children: [
                                    { name: 'ビジョンを作る' },
                                    { name: 'ビジョンを維持する' },
                                    { name: '必要な項目を洗い出す' },
                                    { name: '各項目を実行する' }
                                ]
                            }
                        ]
                    },
                    {
                        name: 'アイディア',
                        children: [
                            {
                                name: 'ゲーム',
                                children: [
                                    {
                                        name: 'AI探し',
                                    },
                                ]
                            },
                            {
                                name: '動画',
                                children: [
                                    {
                                        name: 'ライブ',
                                        children: [
                                            {
                                                name: '一緒にシリーズ',
                                                children: [
                                                    { name: '観光' },
                                                ]
                                            },
                                        ]
                                    },
                                    {
                                        name: 'AI人狼',
                                        children: [
                                            { name: '回答者たちを参加者に隠して連想ゲームや質問をし参加者はAIを当てる' },
                                        ]
                                    },
                                ]
                            },
                            {
                                name: 'アート',
                                children: [
                                    {
                                        name: '',
                                    },
                                ]
                            },
                            {
                                name: '世界観',
                                children: [
                                    {
                                        name: 'SF',
                                        children: [
                                            {
                                                name: 'AI人間',
                                                children: [
                                                    { name: '視覚情報処理は人間の芽を特殊に使用' },
                                                ]
                                            },
                                        ]
                                    },
                                ]
                            },
                            {
                                name: 'ビジネス',
                                children: [
                                    {
                                        name: '野菜販売',
                                        children: [
                                            {
                                                name: '表面に情報を見やすく楽しく表示',
                                                children: [
                                                    { name: '農薬を抑えていること' },
                                                ]
                                            },
                                            {
                                                name: '裏面に感謝と詳細情報のリンクを表示',
                                                children: [
                                                    {
                                                        name: '詳細情報',
                                                        children: [
                                                            { name: '生育環境' },
                                                            { name: '生育状況' },
                                                            { name: '費用内訳' },
                                                            { name: 'オススメの食べ方' },
                                                        ]
                                                    },
                                                    { name: '詳細情報のアピールを忘れずに表示' }
                                                ]
                                            },
                                        ]
                                    },
                                ]
                            },
                            {
                                name: 'DIY',
                                children: [
                                    {
                                        name: 'ダンボール家具',
                                        children: [
                                            { name: '【要】丈夫な構造を調査' },
                                            { name: '3Dで試作を作成' },
                                        ]
                                    },
                                ]
                            },
                            {
                                name: '',
                                children: [
                                    { name: '' },
                                ]
                            },
                        ]
                    },
                    {
                        name: '',
                        children: [
                            { name: '' },
                        ]
                    },
                ],
                filteredItems: [],
                openNodes: []
            },
            methods: {
                Change_Drawer(_value) {
                    this.drawer = _value;
                },
                filterTree() {
                    if (this.search) {
                        this.filteredItems = this.filterItems(JSON.parse(JSON.stringify(this.items)));
                        this.openNodes = this.getAllNodes(this.filteredItems);
                    } else {
                        this.filteredItems = this.items;
                        this.openNodes = [];
                    }
                },
                filterItems(items) {
                    return items.filter(item => {
                        if (item.name.toLowerCase().includes(this.search.toLowerCase())) {
                            return true;
                        }
                        if (item.children) {
                            item.children = this.filterItems(item.children);
                            return item.children.length > 0;
                        }
                        return false;
                    });
                },
                getAllNodes(items) {
                    let nodes = [];
                    for (let item of items) {
                        nodes.push(item.name);
                        if (item.children) {
                            nodes = nodes.concat(this.getAllNodes(item.children));
                        }
                    }
                    return nodes;
                },
                closeAllNodes() {
                    this.openNodes = [];
                }
            },
            created() {
                this.filteredItems = this.items;
            }
        })
    </script>
</body>

</html>